<!DOCTYPE html>
<html lang="en-us">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="theme" content="hugo-academic">
  <meta name="generator" content="Hugo 0.31.1" />
  <meta name="author" content="Jean Bilheux">

  
  
  
  
    
      
    
  
  <meta name="description" content="This tutorial is a short version of the following full tutorial
Quick Demo First, we need to import the library to be able to use it
import logging  Then to use it
import logging logging.debug(&#39;This is a debug message&#39;) logging.info(&#39;This is an info message&#39;) logging.warning(&#39;This is a warning message&#39;) logging.error(&#39;This is an error message&#39;) logging.critical(&#39;This is a critical message&#39;) def test_me(): logging.debug(&#39;This is a debug message&#39;) logging.info(&#39;This is an info message&#39;) logging.">

  
  <link rel="alternate" hreflang="en-us" href="/post/python_logging/">

  


  

  
  
  <meta name="theme-color" content="hsl(339, 90%, 68%)">
  
  
  
  
    
  
  
    
    
      
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/dracula.min.css">
      
    
  
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha512-6MXa8B6uaO18Hid6blRMetEIoPqHf7Ux1tnyIQdpt9qI5OACx7C+O3IVTr98vwGnlcg0LOLa02i9Y1HpVhlfiw==" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.1/css/academicons.min.css" integrity="sha512-NThgw3XKQ1absAahW6to7Ey42uycrVvfNfyjqcFNgCmOCQ5AR4AO0SiXrN+8ZtYeappp56lk1WtvjVmEa+VR6A==" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha512-SfTiTlX6kk+qitfevl/7LibUOeJWlt9rbyDn92a1DqWOw9vWG2MFoays0sgObmWazO5BQPiFucnnEAjpAB+/Sw==" crossorigin="anonymous">
  
  
  
  
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Montserrat:400,700%7cRoboto:400,400italic,700%7cRoboto&#43;Mono">
  
  <link rel="stylesheet" href="/styles.css">
  

  

  
  <link rel="alternate" href="/index.xml" type="application/rss+xml" title="Jean Bilheux">
  <link rel="feed" href="/index.xml" type="application/rss+xml" title="Jean Bilheux">
  

  <link rel="manifest" href="/site.webmanifest">
  <link rel="icon" type="image/png" href="/img/icon.png">
  <link rel="apple-touch-icon" type="image/png" href="/img/icon-192.png">

  <link rel="canonical" href="/post/python_logging/">

  <meta property="twitter:card" content="summary_large_image">
  
  <meta property="og:site_name" content="Jean Bilheux">
  <meta property="og:url" content="/post/python_logging/">
  <meta property="og:title" content="Python logging module 1.0.1 | Jean Bilheux">
  <meta property="og:description" content="This tutorial is a short version of the following full tutorial
Quick Demo First, we need to import the library to be able to use it
import logging  Then to use it
import logging logging.debug(&#39;This is a debug message&#39;) logging.info(&#39;This is an info message&#39;) logging.warning(&#39;This is a warning message&#39;) logging.error(&#39;This is an error message&#39;) logging.critical(&#39;This is a critical message&#39;) def test_me(): logging.debug(&#39;This is a debug message&#39;) logging.info(&#39;This is an info message&#39;) logging.">
  <meta property="og:locale" content="en-us">
  
  <meta property="article:published_time" content="2018-11-07T00:00:00-05:00">
  
  <meta property="article:modified_time" content="2018-11-07T00:00:00-05:00">
  

  

  <title>Python logging module 1.0.1 | Jean Bilheux</title>

</head>
<body id="top" data-spy="scroll" data-target="#toc" data-offset="71" class="dark">

<nav class="navbar navbar-default navbar-fixed-top" id="navbar-main">
  <div class="container">

    
    <div class="navbar-header">
      
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
              data-target=".navbar-collapse" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      
      <a class="navbar-brand" href="/">Jean Bilheux</a>
    </div>

    
    <div class="collapse navbar-collapse">

      
      
      <ul class="nav navbar-nav navbar-right">
        

        
        
        
        
        
          
        

        <li class="nav-item">
          <a href="/#about">
            
            <span>Home</span>
            
          </a>
        </li>

        
        

        
        
        
        
        
          
        

        <li class="nav-item">
          <a href="/#publications_selected">
            
            <span>Publications</span>
            
          </a>
        </li>

        
        

        
        
        
        
        
          
        

        <li class="nav-item">
          <a href="/#posts">
            
            <span>Posts</span>
            
          </a>
        </li>

        
        

        
        
        
        
        
          
        

        <li class="nav-item">
          <a href="/#projects">
            
            <span>Projects</span>
            
          </a>
        </li>

        
        

        
        
        
        
        
          
        

        <li class="nav-item">
          <a href="/#hobbies">
            
            <span>Hobbies</span>
            
          </a>
        </li>

        
        

        
        
        
        
        
          
        

        <li class="nav-item">
          <a href="/#contact">
            
            <span>Contact</span>
            
          </a>
        </li>

        
        
      

      
      </ul>

    </div>
  </div>
</nav>


<article class="article" itemscope itemtype="http://schema.org/Article">

  


  <div class="article-container">
    <div class="article-inner">
      <h1 itemprop="name">Python logging module 1.0.1</h1>

      

<div class="article-metadata">

  <span class="article-date">
    
    <time datetime="2018-11-07 00:00:00 -0500 EST" itemprop="datePublished dateModified">
      Nov 7, 2018
    </time>
  </span>
  <span itemscope itemprop="author publisher" itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Jean Bilheux">
  </span>

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    5 min read
  </span>
  

  
  

  

  
  
<div class="share-box" aria-hidden="true">
  <ul class="share">
    <li>
      <a class="twitter"
         href="https://twitter.com/intent/tweet?text=Python%20logging%20module%201.0.1&amp;url=%2fpost%2fpython_logging%2f"
         target="_blank" rel="noopener">
        <i class="fa fa-twitter"></i>
      </a>
    </li>
    <li>
      <a class="facebook"
         href="https://www.facebook.com/sharer.php?u=%2fpost%2fpython_logging%2f"
         target="_blank" rel="noopener">
        <i class="fa fa-facebook"></i>
      </a>
    </li>
    <li>
      <a class="linkedin"
         href="https://www.linkedin.com/shareArticle?mini=true&amp;url=%2fpost%2fpython_logging%2f&amp;title=Python%20logging%20module%201.0.1"
         target="_blank" rel="noopener">
        <i class="fa fa-linkedin"></i>
      </a>
    </li>
    <li>
      <a class="weibo"
         href="http://service.weibo.com/share/share.php?url=%2fpost%2fpython_logging%2f&amp;title=Python%20logging%20module%201.0.1"
         target="_blank" rel="noopener">
        <i class="fa fa-weibo"></i>
      </a>
    </li>
    <li>
      <a class="email"
         href="mailto:?subject=Python%20logging%20module%201.0.1&amp;body=%2fpost%2fpython_logging%2f">
        <i class="fa fa-envelope"></i>
      </a>
    </li>
  </ul>
</div>


  

</div>


      <div class="article-style" itemprop="articleBody">
        

<p>This tutorial is a short version of the following <a href="https://realpython.com/python-logging/" target="_blank">full tutorial</a></p>

<h2 id="quick-demo">Quick Demo</h2>

<p>First, we need to import the library to be able to use it</p>

<pre><code class="language-python">import logging
</code></pre>

<p>Then to use it</p>

<pre><code class="language-python">import logging

logging.debug('This is a debug message')
logging.info('This is an info message')
logging.warning('This is a warning message')
logging.error('This is an error message')
logging.critical('This is a critical message')

def test_me():
    logging.debug('This is a debug message')
    logging.info('This is an info message')
    logging.warning('This is a warning message')
    logging.error('This is an error message')
    logging.critical('This is a critical message')

if __name__ == &quot;__main__&quot;:
    test_me()
</code></pre>

<p>The output of this program will be</p>

<pre><code>WARNING:root:This is a warning message
ERROR:root:This is an error message
CRITICAL:root:This is a critical message
WARNING:root:This is a warning message
ERROR:root:This is an error message
CRITICAL:root:This is a critical message
</code></pre>

<p>By default, the logging module logs only everything that is WARNING level or higher. But it&rsquo;s possible to change
this by playing with the <strong>basicConfig</strong></p>

<h2 id="basic-configurations">Basic Configurations</h2>

<p>Here are some of the main features of the configurations:</p>

<ul>
<li><strong>level</strong>: The root logger will be set to the specified severity level.</li>
<li><strong>filename</strong>: This specifies the file.</li>
<li><strong>filemode</strong>: If filename is given, the file is opened in this mode. The default is a, which means append.</li>
<li><strong>format</strong>: This is the format of the log message.</li>
</ul>

<p>Example:</p>

<p>To now log everything at or above DEBUG</p>

<pre><code class="language-python"> import logging

 logging.basicConfig(level=logging.DEBUG) 
 logging.debug(&quot;This will get logged now&quot;)
</code></pre>

<p>output will be</p>

<pre><code class="language-shell"> DEBUG:root:This will get logged now
</code></pre>

<p>### logging into a file</p>

<p>If we want to log everything in a file instead of just in the terminal</p>

<pre><code class="language-python">import logging

logging.basicConfig(filename='/Users/j35/Desktop/app.log', filemode='w', format='%(name)s - %(levelname)s - %(message)s')
logging.warning(&quot;This will get logged to a file&quot;)
</code></pre>

<p>Here is the code I used to test it</p>

<pre><code class="language-python">import logging

def try_me():
    logging.debug('This is a debug message')
    logging.info('This is an info message')
    logging.warning('This is a warning message')
    logging.error('This is an error message')
    logging.critical('This is a critical message')

if __name__ == &quot;__main__&quot;:

    logging.basicConfig(filename='/Users/j35/Desktop/app.cfg',
                        filemode='w',
                        format='%(name)s - %(levelname)s - %(message)s')
    logging.warning(&quot;This should go to a file&quot;)
    
    try_me()
</code></pre>

<p>and here is the <em>app.cfg</em> file created</p>

<pre><code class="language-python">root - WARNING - This should go to a file
root - WARNING - This is a warning message
root - ERROR - This is an error message
root - CRITICAL - This is a critical message
</code></pre>

<p>To get a full list of all the parameters that can be set, go <a href="https://docs.python.org/3/library/logging.html#logging.basicConfig" target="_blank">here</a></p>

<h2 id="how-to-personalize-the-output">How to personalize the output</h2>

<p>To get a full list of all the parameters we can simply retrieve and display in the message, go <a href="https://docs.python.org/3/library/logging.html#logrecord-attributes" target="_blank">here</a></p>

<p>But here is an example of what we can do using those parameters</p>

<pre><code class="language-python">import logging

logging.basicConfig(format='%(process)d-%(levelname)s-%(message)s')
logging.warning('This is a Warning')
</code></pre>

<p>this will produce the following output</p>

<pre><code class="language-python">18472-WARNING-This is a Warning
</code></pre>

<p>In this example, we add the date and time</p>

<pre><code class="language-python">import logging

logging.basicConfig(format='%(asctime)s - %(message)s', level=logging.INFO)
logging.info('Admin logged in')
</code></pre>

<pre><code class="language-python">2018-07-11 20:12:06,288 - Admin logged in
</code></pre>

<h3 id="logging-our-own-data">Logging our own data</h3>

<pre><code class="language-python">import logging
name = 'John'
logging.error('%s raised an error', name)
</code></pre>

<pre><code class="language-python">ERROR:root:John raised an error
</code></pre>

<p>or even better using the new python 3.6 format</p>

<pre><code class="language-python">import logging
name = 'John'
logging.error(f'{name} raised an error')
</code></pre>

<h3 id="capturing-exceptions">Capturing Exceptions</h3>

<p>It&rsquo;s also possible to capture the entire stack trace by turning on the <strong>exc_info</strong> flag as shown here</p>

<pre><code class="language-python">import logging

a = 5
b = 0

try:
  c = a / b
except Exception as e:
  logging.error(&quot;Exception occurred&quot;, exc_info=True)
</code></pre>

<pre><code class="language-python">ERROR:root:Exception occurred
Traceback (most recent call last):
  File &quot;exceptions.py&quot;, line 6, in &lt;module&gt;
    c = a / b
ZeroDivisionError: division by zero
[Finished in 0.2s]
</code></pre>

<p>We can also use this, <strong>if we call it from inside an exception handler</strong></p>

<pre><code class="language-python">import logging

a = 5
b = 0
try:
  c = a / b
except Exception as e:
  logging.exception(&quot;Exception occurred&quot;)
</code></pre>

<p>and this will produce te same output.</p>

<h2 id="classes-and-functions">Classes and functions</h2>

<p>In a real project, we should define our own <strong>logger</strong> by creating an object of the logger class.</p>

<p>Unlike the root logger, a custom logger will not display by default the name of the logger</p>

<pre><code class="language-python">import logging
logger = logging.getLogger('example_logger')
logger.warning('This is a warning')
</code></pre>

<p>which produces the following output</p>

<pre><code class="language-python">This is a warning
</code></pre>

<p>WARNING</p>

<p>unlike the root logger, a custom logger can not be configured using <strong>basicConfig()</strong>, instead we need to use <strong>Handlers</strong>
and <strong>Formatters</strong>.</p>

<h3 id="using-handlers">Using Handlers</h3>

<p>Handlers are required when we want to configure our own logger and for example, sent the various messages (error, warnings, &hellip;)
to different outputs (screen, http, file, &hellip;).</p>

<p>Example: Let&rsquo;s create a logger that record everything with level WARNING and above to the screen, but everything with
level ERROR should also be saved to a file</p>

<pre><code class="language-python"># logging_example.py

import logging

# Create a custom logger
logger = logging.getLogger(__name__)

# Create handlers
c_handler = logging.StreamHandler()
f_handler = logging.FileHandler('file.log')
c_handler.setLevel(logging.WARNING)
f_handler.setLevel(logging.ERROR)

# Create formatters and add it to handlers
c_format = logging.Formatter('%(name)s - %(levelname)s - %(message)s')
f_format = logging.Formatter('%(asctime)s - %(name)s - %(levelname)s - %(message)s')
c_handler.setFormatter(c_format)
f_handler.setFormatter(f_format)

# Add handlers to the logger
logger.addHandler(c_handler)
logger.addHandler(f_handler)

logger.warning('This is a warning')
logger.error('This is an error')
</code></pre>

<p>and that produce the following output</p>

<pre><code class="language-python">__main__ - WARNING - This is a warning
__main__ - ERROR - This is an error
</code></pre>

<p>and create a file</p>

<pre><code class="language-python"># file.log
2018-08-03 16:12:21,723 - __main__ - ERROR - This is an error
</code></pre>

<h3 id="other-configuration-methods">Other Configuration Methods</h3>

<p>It&rsquo;s also possible to configure our logger using a <strong>config file</strong> (or a
dictionary) and loading it using <em>fileConfig()</em> (or <em>dictConfig()</em>).</p>

<p>Example of a config file called <em>file.conf</em></p>

<pre><code class="language-python">[loggers]
keys=root,sampleLogger

[handlers]
keys=consoleHandler

[formatters]
keys=sampleFormatter

[logger_root]
level=DEBUG
handlers=consoleHandler

[logger_sampleLogger]
level=DEBUG
handlers=consoleHandler
qualname=sampleLogger
propagate=0

[handler_consoleHandler]
class=StreamHandler
level=DEBUG
formatter=sampleFormatter
args=(sys.stdout,)

[formatter_sampleFormatter]
format=%(asctime)s - %(name)s - %(levelname)s - %(message)s
</code></pre>

<p>In this example, there are:</p>

<pre><code>* 2 loggers
* 1 handler
* 1 formatter
</code></pre>

<p>Thye are configured by adding the word logger, handler and formatter
before their name (with underscore)</p>

<p>example:</p>

<pre><code>- logger_root
- handler_consoleHandler
</code></pre>

<p>Here is the code that allow to load this configuration of the logger</p>

<pre><code class="language-python">import logging
import logging.config

logging.config.fileConfig(fname='file.conf', disable_existing_loggers=False)

# Get the logger specified in the file
logger = logging.getLogger(__name__)

logger.debug('This is a debug message')
</code></pre>

<p>And here is the output it will produce</p>

<pre><code class="language-python">2018-07-13 13:57:45,467 - __main__ - DEBUG - This is a debug message
</code></pre>

      </div>

      


<div class="article-tags">
  
  <a class="btn btn-primary btn-outline" href="/tags/python">python</a>
  
  <a class="btn btn-primary btn-outline" href="/tags/logging">logging</a>
  
</div>



    </div>
  </div>

</article>



<div class="article-container article-widget">
  <div class="hr-light"></div>
  <h3>Related</h3>
  <ul>
    
    <li><a href="/post/table_tree_prototype/">Multi rows table (QTableWidget)and Qtree interacting together</a></li>
    
    <li><a href="/post/right_click_menu_in_pyqt_table/">Right Click Menu in QTable</a></li>
    
    <li><a href="/post/python_tricks/">Python Tricks</a></li>
    
    <li><a href="/post/inflect_python_library/">How to automatically plural words in Python</a></li>
    
    <li><a href="/post/start_pyqt_ui_from_script_itself/">Launching PyQt from script</a></li>
    
  </ul>
</div>




<div class="article-container">
  

</div>

<footer class="site-footer">
  <div class="container">
    <p class="powered-by">

      &copy; 2018 &middot; 

      Powered by the
      <a href="https://sourcethemes.com/academic/" target="_blank" rel="noopener">Academic theme</a> for
      <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a>.

      <span class="pull-right" aria-hidden="true">
        <a href="#" id="back_to_top">
          <span class="button_icon">
            <i class="fa fa-chevron-up fa-2x"></i>
          </span>
        </a>
      </span>

    </p>
  </div>
</footer>


<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close btn-large" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Cite</h4>
      </div>
      <div>
        <pre><code class="modal-body tex"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-primary btn-outline js-copy-cite" href="#" target="_blank">
          <i class="fa fa-copy"></i> Copy
        </a>
        <a class="btn btn-primary btn-outline js-download-cite" href="#" target="_blank">
          <i class="fa fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

    

    
    

    

    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js" integrity="sha512-3P8rXCuGJdNZOnUx/03c1jOTnMn3rP63nBip5gOP2qmUh5YAdVAvFZ1E+QLZZbC1rtMrQb+mah3AfYW11RUrWA==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.3/imagesloaded.pkgd.min.js" integrity="sha512-umsR78NN0D23AzgoZ11K7raBD+R6hqKojyBZs1w8WvYlsI+QuKRGBx3LFCwhatzBunCjDuJpDHwxD13sLMbpRA==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha512-iztkobsvnjKfAtTNdHkGVjAYTrrtlC7mGp/54c40wowO7LhURYl3gVzzcEqGl/qKXQltJ2HwMrdLcNUdo+N/RQ==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.4/isotope.pkgd.min.js" integrity="sha512-VDBOIlDbuC4VWxGJNmuFRQ0Li0SKkDpmGyuhAG5LTDLd/dJ/S0WMVxriR2Y+CyPL5gzjpN4f/6iqWVBJlht0tQ==" crossorigin="anonymous"></script>
    
    
    <script src="/js/hugo-academic.js"></script>
    

    
    
      
      
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js" integrity="sha256-/BfiIkHlHoVihZdc6TFuj7MmJ0TWcWsMXkeDFwhi0zw=" crossorigin="anonymous"></script>
      

      

      

      <script>hljs.initHighlightingOnLoad();</script>
    

    
    

  </body>
</html>

